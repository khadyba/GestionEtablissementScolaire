{
    "sourceFile": "resources/views/Administrateur/admindashboard.blade.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 30,
            "patches": [
                {
                    "date": 1727624107134,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1727624119478,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -86,9 +86,9 @@\n                 @if ($emploisDuTemps->isNotEmpty())\n                 @foreach($emploisDuTemps as $emploiDuTemps)\n                 <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n                     <td>{{ $emploiDuTemps->nom_original }}</td>\n-                    <td>{{ $emploiDuTemps->nom_original }}</td>\n+                    <td>{{ $emploiDuTemps->class }}</td>\n \n                     <td>\n                         <a href=\"{{ route('emplois_du_temps.download', $emploiDuTemps->id) }}\" class=\"btn btn-primary btn-sm\">Télécharger</a>\n                     </td>\n"
                },
                {
                    "date": 1727624132804,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,17 +78,18 @@\n         <table class=\"table table-striped\">\n             <thead class=\"table-primary\">\n                 <tr>\n                     <th>Nom du Fichier</th>\n+                    \n                     <th>Actions</th>\n                 </tr>\n             </thead>\n             <tbody>\n                 @if ($emploisDuTemps->isNotEmpty())\n                 @foreach($emploisDuTemps as $emploiDuTemps)\n                 <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n                     <td>{{ $emploiDuTemps->nom_original }}</td>\n-                    <td>{{ $emploiDuTemps->class }}</td>\n+                    <td>{{ $emploiDuTemps->classe_id }}</td>\n \n                     <td>\n                         <a href=\"{{ route('emplois_du_temps.download', $emploiDuTemps->id) }}\" class=\"btn btn-primary btn-sm\">Télécharger</a>\n                     </td>\n"
                },
                {
                    "date": 1727624139253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,10 @@\n         <table class=\"table table-striped\">\n             <thead class=\"table-primary\">\n                 <tr>\n                     <th>Nom du Fichier</th>\n-                    \n+                    <th></th>\n+\n                     <th>Actions</th>\n                 </tr>\n             </thead>\n             <tbody>\n"
                },
                {
                    "date": 1727624146252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,9 +78,9 @@\n         <table class=\"table table-striped\">\n             <thead class=\"table-primary\">\n                 <tr>\n                     <th>Nom du Fichier</th>\n-                    <th></th>\n+                    <th>Classe</th>\n \n                     <th>Actions</th>\n                 </tr>\n             </thead>\n"
                },
                {
                    "date": 1727624350574,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,8 @@\n             <thead class=\"table-primary\">\n                 <tr>\n                     <th>Nom du Fichier</th>\n                     <th>Classe</th>\n-\n                     <th>Actions</th>\n                 </tr>\n             </thead>\n             <tbody>\n"
                },
                {
                    "date": 1727624557735,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n                 @if ($emploisDuTemps->isNotEmpty())\n                 @foreach($emploisDuTemps as $emploiDuTemps)\n                 <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n                     <td>{{ $emploiDuTemps->nom_original }}</td>\n-                    <td>{{ $emploiDuTemps->classe_id }}</td>\n+                    <td>{{ $emploiDuTemps->classe }}</td>\n \n                     <td>\n                         <a href=\"{{ route('emplois_du_temps.download', $emploiDuTemps->id) }}\" class=\"btn btn-primary btn-sm\">Télécharger</a>\n                     </td>\n"
                },
                {
                    "date": 1727624563243,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n                 @if ($emploisDuTemps->isNotEmpty())\n                 @foreach($emploisDuTemps as $emploiDuTemps)\n                 <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n                     <td>{{ $emploiDuTemps->nom_original }}</td>\n-                    <td>{{ $emploiDuTemps->classe }}</td>\n+                    <td>{{ $emploiDuTemps->classe->nom }}</td>\n \n                     <td>\n                         <a href=\"{{ route('emplois_du_temps.download', $emploiDuTemps->id) }}\" class=\"btn btn-primary btn-sm\">Télécharger</a>\n                     </td>\n"
                },
                {
                    "date": 1728980275113,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,34 +35,42 @@\n         </div>\n         @endif\n \n         <table class=\"table table-striped\">\n-            <thead class=\"table-primary\">\n-                <tr>\n-                    <th>Nom</th>\n-                    <th>Prénoms</th>\n-                    <th>Montant Payé</th>\n-                    <th>Date de Paiement</th>\n-                </tr>\n-            </thead>\n-            <tbody>\n-                @if ($elevesInscrits->isNotEmpty())\n-                @foreach($elevesInscrits as $paiement)\n-                <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n+    <thead class=\"table-primary\">\n+        <tr>\n+            <th>Nom</th>\n+            <th>Prénoms</th>\n+            <th>Montant Payé</th>\n+            <th>Date de Paiement</th>\n+            <th>Type d'Établissement</th> <!-- Ajoute une colonne pour l'établissement -->\n+        </tr>\n+    </thead>\n+    <tbody>\n+        @if ($elevesInscrits->isNotEmpty())\n+            @foreach($elevesInscrits as $paiement)\n+                @php\n+                    $etablissement = $paiement->eleve->etablissement;\n+                    $rowClass = ($loop->index % 2 == 0) ? 'table-light' : 'table-dark';\n+                    $etablissementType = $etablissement ? $etablissement->type : 'Inconnu';\n+                @endphp\n+                <tr class=\"{{ $rowClass }}\">\n                     <td>{{ $paiement->eleve->nom }}</td>\n                     <td>{{ $paiement->eleve->prenoms }}</td>\n                     <td>{{ $paiement->montant }}</td>\n                     <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n+                    <td>{{ $etablissementType }}</td> <!-- Affiche le type d'établissement -->\n                 </tr>\n-                @endforeach\n-                @else\n-                <tr>\n-                    <td colspan=\"4\">Aucun élève inscrit</td>\n-                </tr>\n-                @endif\n-            </tbody>\n-        </table>\n+            @endforeach\n+        @else\n+            <tr>\n+                <td colspan=\"5\">Aucun élève inscrit</td>\n+            </tr>\n+        @endif\n+    </tbody>\n+</table>\n \n+\n         <div class=\"mt-4 \">\n             <a href=\"{{ route('etablissement.formulaire') }}\" class=\"btn btn-primary me-2\">Ajouter un Etablissement</a>\n             <a href=\"{{ route('classes.create') }}\" class=\"btn btn-primary me-2\">Ajouter une classe</a>\n             <a href=\"{{ route('affiche.formulaire') }}\" class=\"btn btn-primary me-2\">Ajouter Professeurs</a>\n"
                },
                {
                    "date": 1728980308970,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,9 @@\n             <th>Nom</th>\n             <th>Prénoms</th>\n             <th>Montant Payé</th>\n             <th>Date de Paiement</th>\n-            <th>Type d'Établissement</th> <!-- Ajoute une colonne pour l'établissement -->\n+            <th>Type d'Établissement</th> \n         </tr>\n     </thead>\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n"
                },
                {
                    "date": 1728980531397,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n             @foreach($elevesInscrits as $paiement)\n                 @php\n-                    $etablissement = $paiement->eleve->etablissement;\n+                    $etablissement = $paiement->eleves->etablissement;\n                     $rowClass = ($loop->index % 2 == 0) ? 'table-light' : 'table-dark';\n                     $etablissementType = $etablissement ? $etablissement->type : 'Inconnu';\n                 @endphp\n                 <tr class=\"{{ $rowClass }}\">\n"
                },
                {
                    "date": 1728980558149,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n             @foreach($elevesInscrits as $paiement)\n                 @php\n-                    $etablissement = $paiement->eleves->etablissement;\n+                    $etablissement = $paiement->eleve->etablissement;\n                     $rowClass = ($loop->index % 2 == 0) ? 'table-light' : 'table-dark';\n                     $etablissementType = $etablissement ? $etablissement->type : 'Inconnu';\n                 @endphp\n                 <tr class=\"{{ $rowClass }}\">\n"
                },
                {
                    "date": 1728982215969,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,19 +35,41 @@\n         </div>\n         @endif\n \n         <table class=\"table table-striped\">\n+        <table class=\"table table-striped\">\n     <thead class=\"table-primary\">\n         <tr>\n             <th>Nom</th>\n             <th>Prénoms</th>\n             <th>Montant Payé</th>\n             <th>Date de Paiement</th>\n-            <th>Type d'Établissement</th> \n+            <th>Type d'Établissement</th>\n         </tr>\n     </thead>\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n+        @foreach($elevesInscrits as $paiement)\n+        <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n+            <td>{{ $paiement->eleve->nom }}</td>\n+            <td>{{ $paiement->eleve->prenoms }}</td>\n+            <td>{{ $paiement->montant }}</td>\n+            <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n+            <td>\n+                {{ $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu' }}\n+            </td>\n+        </tr>\n+        @endforeach\n+        @else\n+        <tr>\n+            <td colspan=\"5\">Aucun élève inscrit</td>\n+        </tr>\n+        @endif\n+    </tbody>\n+</table>\n+\n+    <tbody>\n+        @if ($elevesInscrits->isNotEmpty())\n             @foreach($elevesInscrits as $paiement)\n                 @php\n                     $etablissement = $paiement->eleve->etablissement;\n                     $rowClass = ($loop->index % 2 == 0) ? 'table-light' : 'table-dark';\n"
                },
                {
                    "date": 1728982223011,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,17 +36,17 @@\n         @endif\n \n         <table class=\"table table-striped\">\n         <table class=\"table table-striped\">\n-    <thead class=\"table-primary\">\n-        <tr>\n-            <th>Nom</th>\n-            <th>Prénoms</th>\n-            <th>Montant Payé</th>\n-            <th>Date de Paiement</th>\n-            <th>Type d'Établissement</th>\n-        </tr>\n-    </thead>\n+        <thead class=\"table-primary\">\n+            <tr>\n+                <th>Nom</th>\n+                <th>Prénoms</th>\n+                <th>Montant Payé</th>\n+                <th>Date de Paiement</th>\n+                <th>Type d'Établissement</th>\n+            </tr>\n+        </thead>\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n         @foreach($elevesInscrits as $paiement)\n         <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n"
                },
                {
                    "date": 1728982407161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,9 +66,9 @@\n         @endif\n     </tbody>\n </table>\n \n-    <tbody>\n+    <!-- <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n             @foreach($elevesInscrits as $paiement)\n                 @php\n                     $etablissement = $paiement->eleve->etablissement;\n@@ -88,9 +88,9 @@\n                 <td colspan=\"5\">Aucun élève inscrit</td>\n             </tr>\n         @endif\n     </tbody>\n-</table>\n+</table> -->\n \n \n         <div class=\"mt-4 \">\n             <a href=\"{{ route('etablissement.formulaire') }}\" class=\"btn btn-primary me-2\">Ajouter un Etablissement</a>\n"
                },
                {
                    "date": 1728982413284,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,10 +87,10 @@\n             <tr>\n                 <td colspan=\"5\">Aucun élève inscrit</td>\n             </tr>\n         @endif\n-    </tbody>\n-</table> -->\n+    <!-- </tbody>\n+</table>  -->\n \n \n         <div class=\"mt-4 \">\n             <a href=\"{{ route('etablissement.formulaire') }}\" class=\"btn btn-primary me-2\">Ajouter un Etablissement</a>\n"
                },
                {
                    "date": 1728982428721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,9 +66,9 @@\n         @endif\n     </tbody>\n </table>\n \n-    <!-- <tbody>\n+    <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n             @foreach($elevesInscrits as $paiement)\n                 @php\n                     $etablissement = $paiement->eleve->etablissement;\n@@ -87,10 +87,10 @@\n             <tr>\n                 <td colspan=\"5\">Aucun élève inscrit</td>\n             </tr>\n         @endif\n-    <!-- </tbody>\n-</table>  -->\n+    </tbody>\n+</table>\n \n \n         <div class=\"mt-4 \">\n             <a href=\"{{ route('etablissement.formulaire') }}\" class=\"btn btn-primary me-2\">Ajouter un Etablissement</a>\n"
                },
                {
                    "date": 1728982447340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,10 +34,10 @@\n             Mot de passe : {{ session('identifiants.password') }}\n         </div>\n         @endif\n \n+ <table class=\"table table-striped\">\n         <table class=\"table table-striped\">\n-        <table class=\"table table-striped\">\n         <thead class=\"table-primary\">\n             <tr>\n                 <th>Nom</th>\n                 <th>Prénoms</th>\n"
                },
                {
                    "date": 1728982454042,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,10 +33,9 @@\n             Email : {{ session('identifiants.email') }}<br>\n             Mot de passe : {{ session('identifiants.password') }}\n         </div>\n         @endif\n-\n- <table class=\"table table-striped\">\n+ \n         <table class=\"table table-striped\">\n         <thead class=\"table-primary\">\n             <tr>\n                 <th>Nom</th>\n"
                },
                {
                    "date": 1728982472604,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,31 +65,9 @@\n         @endif\n     </tbody>\n </table>\n \n-    <tbody>\n-        @if ($elevesInscrits->isNotEmpty())\n-            @foreach($elevesInscrits as $paiement)\n-                @php\n-                    $etablissement = $paiement->eleve->etablissement;\n-                    $rowClass = ($loop->index % 2 == 0) ? 'table-light' : 'table-dark';\n-                    $etablissementType = $etablissement ? $etablissement->type : 'Inconnu';\n-                @endphp\n-                <tr class=\"{{ $rowClass }}\">\n-                    <td>{{ $paiement->eleve->nom }}</td>\n-                    <td>{{ $paiement->eleve->prenoms }}</td>\n-                    <td>{{ $paiement->montant }}</td>\n-                    <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n-                    <td>{{ $etablissementType }}</td> <!-- Affiche le type d'établissement -->\n-                </tr>\n-            @endforeach\n-        @else\n-            <tr>\n-                <td colspan=\"5\">Aucun élève inscrit</td>\n-            </tr>\n-        @endif\n-    </tbody>\n-</table>\n+  \n \n \n         <div class=\"mt-4 \">\n             <a href=\"{{ route('etablissement.formulaire') }}\" class=\"btn btn-primary me-2\">Ajouter un Etablissement</a>\n"
                },
                {
                    "date": 1728982738409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -35,17 +35,17 @@\n         </div>\n         @endif\n  \n         <table class=\"table table-striped\">\n-        <thead class=\"table-primary\">\n-            <tr>\n-                <th>Nom</th>\n-                <th>Prénoms</th>\n-                <th>Montant Payé</th>\n-                <th>Date de Paiement</th>\n-                <th>Type d'Établissement</th>\n-            </tr>\n-        </thead>\n+            <thead class=\"table-primary\">\n+                <tr>\n+                    <th>Nom</th>\n+                    <th>Prénoms</th>\n+                    <th>Montant Payé</th>\n+                    <th>Date de Paiement</th>\n+                    <th>Type d'Établissement</th>\n+                </tr>\n+            </thead>\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n         @foreach($elevesInscrits as $paiement)\n         <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n"
                },
                {
                    "date": 1728982747184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,9 @@\n             Mot de passe : {{ session('identifiants.password') }}\n         </div>\n         @endif\n  \n-        <table class=\"table table-striped\">\n+<table class=\"table table-striped\">\n             <thead class=\"table-primary\">\n                 <tr>\n                     <th>Nom</th>\n                     <th>Prénoms</th>\n@@ -44,27 +44,27 @@\n                     <th>Date de Paiement</th>\n                     <th>Type d'Établissement</th>\n                 </tr>\n             </thead>\n-    <tbody>\n-        @if ($elevesInscrits->isNotEmpty())\n-        @foreach($elevesInscrits as $paiement)\n-        <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n-            <td>{{ $paiement->eleve->nom }}</td>\n-            <td>{{ $paiement->eleve->prenoms }}</td>\n-            <td>{{ $paiement->montant }}</td>\n-            <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n-            <td>\n-                {{ $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu' }}\n-            </td>\n-        </tr>\n-        @endforeach\n-        @else\n-        <tr>\n-            <td colspan=\"5\">Aucun élève inscrit</td>\n-        </tr>\n-        @endif\n-    </tbody>\n+        <tbody>\n+            @if ($elevesInscrits->isNotEmpty())\n+            @foreach($elevesInscrits as $paiement)\n+            <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n+                <td>{{ $paiement->eleve->nom }}</td>\n+                <td>{{ $paiement->eleve->prenoms }}</td>\n+                <td>{{ $paiement->montant }}</td>\n+                <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n+                <td>\n+                    {{ $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu' }}\n+                </td>\n+            </tr>\n+            @endforeach\n+            @else\n+            <tr>\n+                <td colspan=\"5\">Aucun élève inscrit</td>\n+            </tr>\n+            @endif\n+        </tbody>\n </table>\n \n   \n \n"
                },
                {
                    "date": 1728982753210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,38 +34,38 @@\n             Mot de passe : {{ session('identifiants.password') }}\n         </div>\n         @endif\n  \n-<table class=\"table table-striped\">\n-            <thead class=\"table-primary\">\n-                <tr>\n-                    <th>Nom</th>\n-                    <th>Prénoms</th>\n-                    <th>Montant Payé</th>\n-                    <th>Date de Paiement</th>\n-                    <th>Type d'Établissement</th>\n-                </tr>\n-            </thead>\n-        <tbody>\n-            @if ($elevesInscrits->isNotEmpty())\n-            @foreach($elevesInscrits as $paiement)\n-            <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n-                <td>{{ $paiement->eleve->nom }}</td>\n-                <td>{{ $paiement->eleve->prenoms }}</td>\n-                <td>{{ $paiement->montant }}</td>\n-                <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n-                <td>\n-                    {{ $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu' }}\n-                </td>\n-            </tr>\n-            @endforeach\n-            @else\n-            <tr>\n-                <td colspan=\"5\">Aucun élève inscrit</td>\n-            </tr>\n-            @endif\n-        </tbody>\n-</table>\n+        <table class=\"table table-striped\">\n+                    <thead class=\"table-primary\">\n+                        <tr>\n+                            <th>Nom</th>\n+                            <th>Prénoms</th>\n+                            <th>Montant Payé</th>\n+                            <th>Date de Paiement</th>\n+                            <th>Type d'Établissement</th>\n+                        </tr>\n+                    </thead>\n+                <tbody>\n+                    @if ($elevesInscrits->isNotEmpty())\n+                    @foreach($elevesInscrits as $paiement)\n+                    <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n+                        <td>{{ $paiement->eleve->nom }}</td>\n+                        <td>{{ $paiement->eleve->prenoms }}</td>\n+                        <td>{{ $paiement->montant }}</td>\n+                        <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n+                        <td>\n+                            {{ $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu' }}\n+                        </td>\n+                    </tr>\n+                    @endforeach\n+                    @else\n+                    <tr>\n+                        <td colspan=\"5\">Aucun élève inscrit</td>\n+                    </tr>\n+                    @endif\n+                </tbody>\n+        </table>\n \n   \n \n \n"
                },
                {
                    "date": 1728982775469,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,40 +33,53 @@\n             Email : {{ session('identifiants.email') }}<br>\n             Mot de passe : {{ session('identifiants.password') }}\n         </div>\n         @endif\n- \n         <table class=\"table table-striped\">\n-                    <thead class=\"table-primary\">\n-                        <tr>\n-                            <th>Nom</th>\n-                            <th>Prénoms</th>\n-                            <th>Montant Payé</th>\n-                            <th>Date de Paiement</th>\n-                            <th>Type d'Établissement</th>\n-                        </tr>\n-                    </thead>\n-                <tbody>\n-                    @if ($elevesInscrits->isNotEmpty())\n-                    @foreach($elevesInscrits as $paiement)\n-                    <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n-                        <td>{{ $paiement->eleve->nom }}</td>\n-                        <td>{{ $paiement->eleve->prenoms }}</td>\n-                        <td>{{ $paiement->montant }}</td>\n-                        <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n-                        <td>\n-                            {{ $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu' }}\n-                        </td>\n-                    </tr>\n-                    @endforeach\n-                    @else\n-                    <tr>\n-                        <td colspan=\"5\">Aucun élève inscrit</td>\n-                    </tr>\n-                    @endif\n-                </tbody>\n-        </table>\n+    <thead class=\"table-primary\">\n+        <tr>\n+            <th>Nom</th>\n+            <th>Prénoms</th>\n+            <th>Montant Payé</th>\n+            <th>Date de Paiement</th>\n+            <th>Type d'Établissement</th>\n+        </tr>\n+    </thead>\n+    <tbody>\n+        @if ($elevesInscrits->isNotEmpty())\n+        @foreach($elevesInscrits->groupBy(function($payment) {\n+            // Utilise l'ID de l'élève et le type d'établissement pour grouper\n+            return $payment->eleve->user->etablissement->type . '-' . $payment->eleve->id;\n+        }) as $key => $paiementsGroupes)\n+            @php\n+                // Vérifie si l'établissement est privé\n+                $isPrivate = $paiementsGroupes->first()->eleve->user->etablissement->type === 'privé';\n+            @endphp\n \n+            @foreach($paiementsGroupes as $paiement)\n+            <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n+                <td>{{ $paiement->eleve->nom }}</td>\n+                <td>{{ $paiement->eleve->prenoms }}</td>\n+                <td>{{ $paiement->montant }}</td>\n+                <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n+                <td>{{ $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu' }}</td>\n+            </tr>\n+            @endforeach\n+\n+            @if (!$isPrivate)\n+                <!-- Si l'établissement est public, n'affiche qu'une seule inscription pour cet élève -->\n+                @break\n+            @endif\n+        @endforeach\n+        @else\n+        <tr>\n+            <td colspan=\"5\">Aucun élève inscrit</td>\n+        </tr>\n+        @endif\n+    </tbody>\n+</table>\n+\n+\n   \n \n \n         <div class=\"mt-4 \">\n"
                },
                {
                    "date": 1728982785362,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,17 +34,17 @@\n             Mot de passe : {{ session('identifiants.password') }}\n         </div>\n         @endif\n         <table class=\"table table-striped\">\n-    <thead class=\"table-primary\">\n-        <tr>\n-            <th>Nom</th>\n-            <th>Prénoms</th>\n-            <th>Montant Payé</th>\n-            <th>Date de Paiement</th>\n-            <th>Type d'Établissement</th>\n-        </tr>\n-    </thead>\n+        <thead class=\"table-primary\">\n+            <tr>\n+                <th>Nom</th>\n+                <th>Prénoms</th>\n+                <th>Montant Payé</th>\n+                <th>Date de Paiement</th>\n+                <th>Type d'Établissement</th>\n+            </tr>\n+        </thead>\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n         @foreach($elevesInscrits->groupBy(function($payment) {\n             // Utilise l'ID de l'élève et le type d'établissement pour grouper\n"
                },
                {
                    "date": 1728982922830,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,47 +34,50 @@\n             Mot de passe : {{ session('identifiants.password') }}\n         </div>\n         @endif\n         <table class=\"table table-striped\">\n-        <thead class=\"table-primary\">\n-            <tr>\n-                <th>Nom</th>\n-                <th>Prénoms</th>\n-                <th>Montant Payé</th>\n-                <th>Date de Paiement</th>\n-                <th>Type d'Établissement</th>\n-            </tr>\n-        </thead>\n+    <thead class=\"table-primary\">\n+        <tr>\n+            <th>Nom</th>\n+            <th>Prénoms</th>\n+            <th>Montant Payé</th>\n+            <th>Date de Paiement</th>\n+            <th>Type d'Établissement</th>\n+        </tr>\n+    </thead>\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n-        @foreach($elevesInscrits->groupBy(function($payment) {\n-            // Utilise l'ID de l'élève et le type d'établissement pour grouper\n-            return $payment->eleve->user->etablissement->type . '-' . $payment->eleve->id;\n-        }) as $key => $paiementsGroupes)\n-            @php\n-                // Vérifie si l'établissement est privé\n-                $isPrivate = $paiementsGroupes->first()->eleve->user->etablissement->type === 'privé';\n-            @endphp\n+            @foreach ($elevesInscrits as $paiement)\n+                @php\n+                    $etablissementType = $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu';\n+                @endphp\n \n-            @foreach($paiementsGroupes as $paiement)\n-            <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n-                <td>{{ $paiement->eleve->nom }}</td>\n-                <td>{{ $paiement->eleve->prenoms }}</td>\n-                <td>{{ $paiement->montant }}</td>\n-                <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n-                <td>{{ $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu' }}</td>\n-            </tr>\n+                @if ($etablissementType === 'privé')\n+                    <!-- Si établissement est privé, afficher toutes les inscriptions de cet élève -->\n+                    <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n+                        <td>{{ $paiement->eleve->nom }}</td>\n+                        <td>{{ $paiement->eleve->prenoms }}</td>\n+                        <td>{{ $paiement->montant }}</td>\n+                        <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n+                        <td>{{ $etablissementType }}</td>\n+                    </tr>\n+                @elseif ($etablissementType === 'public')\n+                    <!-- Si établissement est public, afficher uniquement une inscription pour cet élève -->\n+                    @if ($loop->first || !$loop->parent->hasNext())\n+                        <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n+                            <td>{{ $paiement->eleve->nom }}</td>\n+                            <td>{{ $paiement->eleve->prenoms }}</td>\n+                            <td>{{ $paiement->montant }}</td>\n+                            <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n+                            <td>{{ $etablissementType }}</td>\n+                        </tr>\n+                    @endif\n+                @endif\n             @endforeach\n-\n-            @if (!$isPrivate)\n-                <!-- Si l'établissement est public, n'affiche qu'une seule inscription pour cet élève -->\n-                @break\n-            @endif\n-        @endforeach\n         @else\n-        <tr>\n-            <td colspan=\"5\">Aucun élève inscrit</td>\n-        </tr>\n+            <tr>\n+                <td colspan=\"5\">Aucun élève inscrit</td>\n+            </tr>\n         @endif\n     </tbody>\n </table>\n \n"
                },
                {
                    "date": 1728983177397,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,9 +62,9 @@\n                     </tr>\n                 @elseif ($etablissementType === 'public')\n                     <!-- Si établissement est public, afficher uniquement une inscription pour cet élève -->\n                     @if ($loop->first || !$loop->parent->hasNext())\n-                        <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n+                        <tr class=\"{{ $loop->index % 1 == 0 ? 'table-light' : 'table-dark' }}\">\n                             <td>{{ $paiement->eleve->nom }}</td>\n                             <td>{{ $paiement->eleve->prenoms }}</td>\n                             <td>{{ $paiement->montant }}</td>\n                             <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n"
                },
                {
                    "date": 1728983192220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,9 +62,9 @@\n                     </tr>\n                 @elseif ($etablissementType === 'public')\n                     <!-- Si établissement est public, afficher uniquement une inscription pour cet élève -->\n                     @if ($loop->first || !$loop->parent->hasNext())\n-                        <tr class=\"{{ $loop->index % 1 == 0 ? 'table-light' : 'table-dark' }}\">\n+                        <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n                             <td>{{ $paiement->eleve->nom }}</td>\n                             <td>{{ $paiement->eleve->prenoms }}</td>\n                             <td>{{ $paiement->montant }}</td>\n                             <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n"
                },
                {
                    "date": 1728983365355,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,17 +34,17 @@\n             Mot de passe : {{ session('identifiants.password') }}\n         </div>\n         @endif\n         <table class=\"table table-striped\">\n-    <thead class=\"table-primary\">\n-        <tr>\n-            <th>Nom</th>\n-            <th>Prénoms</th>\n-            <th>Montant Payé</th>\n-            <th>Date de Paiement</th>\n-            <th>Type d'Établissement</th>\n-        </tr>\n-    </thead>\n+        <thead class=\"table-primary\">\n+            <tr>\n+                <th>Nom</th>\n+                <th>Prénoms</th>\n+                <th>Montant Payé</th>\n+                <th>Date de Paiement</th>\n+                <th>Type d'Établissement</th>\n+            </tr>\n+        </thead>\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n             @foreach ($elevesInscrits as $paiement)\n                 @php\n"
                },
                {
                    "date": 1728983383252,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,44 +34,41 @@\n             Mot de passe : {{ session('identifiants.password') }}\n         </div>\n         @endif\n         <table class=\"table table-striped\">\n-        <thead class=\"table-primary\">\n-            <tr>\n-                <th>Nom</th>\n-                <th>Prénoms</th>\n-                <th>Montant Payé</th>\n-                <th>Date de Paiement</th>\n-                <th>Type d'Établissement</th>\n-            </tr>\n-        </thead>\n+    <thead class=\"table-primary\">\n+        <tr>\n+            <th>Nom</th>\n+            <th>Prénoms</th>\n+            <th>Montant Payé</th>\n+            <th>Date de Paiement</th>\n+            <th>Type d'Établissement</th>\n+        </tr>\n+    </thead>\n     <tbody>\n         @if ($elevesInscrits->isNotEmpty())\n-            @foreach ($elevesInscrits as $paiement)\n+            @foreach ($elevesInscrits->groupBy('eleve_id') as $eleveId => $paiementsGroupes)\n                 @php\n-                    $etablissementType = $paiement->eleve->user->etablissement ? $paiement->eleve->user->etablissement->type : 'Inconnu';\n+                    // Récupère l'élève et son établissement\n+                    $eleve = $paiementsGroupes->first()->eleve;\n+                    $etablissementType = $eleve->user->etablissement ? $eleve->user->etablissement->type : 'Inconnu';\n+                    // Vérifie si l'établissement est privé\n+                    $isPrivate = $etablissementType === 'privé';\n                 @endphp\n \n-                @if ($etablissementType === 'privé')\n-                    <!-- Si établissement est privé, afficher toutes les inscriptions de cet élève -->\n+                @foreach($paiementsGroupes as $paiement)\n                     <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n                         <td>{{ $paiement->eleve->nom }}</td>\n                         <td>{{ $paiement->eleve->prenoms }}</td>\n                         <td>{{ $paiement->montant }}</td>\n                         <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n                         <td>{{ $etablissementType }}</td>\n                     </tr>\n-                @elseif ($etablissementType === 'public')\n-                    <!-- Si établissement est public, afficher uniquement une inscription pour cet élève -->\n-                    @if ($loop->first || !$loop->parent->hasNext())\n-                        <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n-                            <td>{{ $paiement->eleve->nom }}</td>\n-                            <td>{{ $paiement->eleve->prenoms }}</td>\n-                            <td>{{ $paiement->montant }}</td>\n-                            <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n-                            <td>{{ $etablissementType }}</td>\n-                        </tr>\n-                    @endif\n+                @endforeach\n+\n+                @if (!$isPrivate)\n+                    <!-- Si l'établissement est public, n'affiche qu'une seule inscription pour cet élève -->\n+                    @break\n                 @endif\n             @endforeach\n         @else\n             <tr>\n@@ -81,8 +78,9 @@\n     </tbody>\n </table>\n \n \n+\n   \n \n \n         <div class=\"mt-4 \">\n"
                },
                {
                    "date": 1728984623206,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,26 +49,36 @@\n             @foreach ($elevesInscrits->groupBy('eleve_id') as $eleveId => $paiementsGroupes)\n                 @php\n                     // Récupère l'élève et son établissement\n                     $eleve = $paiementsGroupes->first()->eleve;\n-                    $etablissementType = $eleve->user->etablissement ? $eleve->user->etablissement->type : 'Inconnu';\n-                    // Vérifie si l'établissement est privé\n+                    $etablissement = $eleve->user->etablissement;\n+                    $etablissementType = $etablissement ? $etablissement->type : 'Inconnu';\n+\n+                    // On vérifie si l'établissement est privé ou public\n                     $isPrivate = $etablissementType === 'privé';\n                 @endphp\n \n-                @foreach($paiementsGroupes as $paiement)\n+                @if ($isPrivate)\n+                    <!-- Si l'établissement est privé, afficher toutes les inscriptions -->\n+                    @foreach($paiementsGroupes as $paiement)\n+                        <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n+                            <td>{{ $paiement->eleve->nom }}</td>\n+                            <td>{{ $paiement->eleve->prenoms }}</td>\n+                            <td>{{ $paiement->montant }}</td>\n+                            <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n+                            <td>{{ $etablissementType }}</td>\n+                        </tr>\n+                    @endforeach\n+                @else\n+                    <!-- Si l'établissement est public, afficher une seule inscription -->\n                     <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n-                        <td>{{ $paiement->eleve->nom }}</td>\n-                        <td>{{ $paiement->eleve->prenoms }}</td>\n-                        <td>{{ $paiement->montant }}</td>\n-                        <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n+                        <td>{{ $paiementsGroupes->first()->eleve->nom }}</td>\n+                        <td>{{ $paiementsGroupes->first()->eleve->prenoms }}</td>\n+                        <td>{{ $paiementsGroupes->first()->montant }}</td>\n+                        <td>{{ $paiementsGroupes->first()->created_at->format('d/m/Y H:i') }}</td>\n                         <td>{{ $etablissementType }}</td>\n                     </tr>\n-                @endforeach\n-\n-                @if (!$isPrivate)\n-                    <!-- Si l'établissement est public, n'affiche qu'une seule inscription pour cet élève -->\n-                    @break\n+                    @break <!-- Sortir de la boucle car on affiche une seule inscription -->\n                 @endif\n             @endforeach\n         @else\n             <tr>\n@@ -79,8 +89,9 @@\n </table>\n \n \n \n+\n   \n \n \n         <div class=\"mt-4 \">\n"
                }
            ],
            "date": 1727624107134,
            "name": "Commit-0",
            "content": "\n<!DOCTYPE html>\n<html>\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Admin Dashboard</title>\n    <link rel=\"icon\" type=\"image/png\" href=\"{{ asset('assets/img/canvas.png') }}\">\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css\" rel=\"stylesheet\" integrity=\"sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH\" crossorigin=\"anonymous\">\n    <!-- Link to external CSS file -->\n    <!-- <link rel=\"stylesheet\" href=\"{{ asset('assets/css/admin-dashboard.css') }}\"> -->\n</head>\n@include('layouts.nav')\n<body>\n<div class=\"container\">\n    @if(session('error'))\n    <div class=\"alert alert-danger\">\n        {{ session('error') }}\n    </div>\n@endif\n\n    @if(session('success'))\n    <div class=\"alert alert-success\">\n        {{ session('success') }}\n    </div>\n    @endif\n    <div class=\"container  text-secondary\">\n        <h1 class=\"my-4\">Liste des Élèves Inscrits</h1>\n\n        @if (session('identifiants'))\n        <div class=\"alert alert-info\">\n            <strong>Identifiants de connexion :</strong><br>\n            Email : {{ session('identifiants.email') }}<br>\n            Mot de passe : {{ session('identifiants.password') }}\n        </div>\n        @endif\n\n        <table class=\"table table-striped\">\n            <thead class=\"table-primary\">\n                <tr>\n                    <th>Nom</th>\n                    <th>Prénoms</th>\n                    <th>Montant Payé</th>\n                    <th>Date de Paiement</th>\n                </tr>\n            </thead>\n            <tbody>\n                @if ($elevesInscrits->isNotEmpty())\n                @foreach($elevesInscrits as $paiement)\n                <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n                    <td>{{ $paiement->eleve->nom }}</td>\n                    <td>{{ $paiement->eleve->prenoms }}</td>\n                    <td>{{ $paiement->montant }}</td>\n                    <td>{{ $paiement->created_at->format('d/m/Y H:i') }}</td>\n                </tr>\n                @endforeach\n                @else\n                <tr>\n                    <td colspan=\"4\">Aucun élève inscrit</td>\n                </tr>\n                @endif\n            </tbody>\n        </table>\n\n        <div class=\"mt-4 \">\n            <a href=\"{{ route('etablissement.formulaire') }}\" class=\"btn btn-primary me-2\">Ajouter un Etablissement</a>\n            <a href=\"{{ route('classes.create') }}\" class=\"btn btn-primary me-2\">Ajouter une classe</a>\n            <a href=\"{{ route('affiche.formulaire') }}\" class=\"btn btn-primary me-2\">Ajouter Professeurs</a>\n            <a href=\"{{ route('classes.index') }}\" class=\"btn btn-primary me-2\">Voir la liste des classes</a>\n            <a href=\"{{ route('admin.salles.create') }}\" class=\"btn btn-primary me-2\">Ajouter Salle de classe</a>\n            <a href=\"{{ route('admin.salles-de-classe.index') }}\" class=\"btn btn-primary me-2\">liste Salles</a>\n\n        </div>\n    </div>\n\n    <div class=\"container mt-4\">\n        <h1 class=\"my-4 text-secondary\">Liste des Emplois du Temps</h1>\n        <table class=\"table table-striped\">\n            <thead class=\"table-primary\">\n                <tr>\n                    <th>Nom du Fichier</th>\n                    <th>Actions</th>\n                </tr>\n            </thead>\n            <tbody>\n                @if ($emploisDuTemps->isNotEmpty())\n                @foreach($emploisDuTemps as $emploiDuTemps)\n                <tr class=\"{{ $loop->index % 2 == 0 ? 'table-light' : 'table-dark' }}\">\n                    <td>{{ $emploiDuTemps->nom_original }}</td>\n                    <td>{{ $emploiDuTemps->nom_original }}</td>\n\n                    <td>\n                        <a href=\"{{ route('emplois_du_temps.download', $emploiDuTemps->id) }}\" class=\"btn btn-primary btn-sm\">Télécharger</a>\n                    </td>\n                </tr>\n                @endforeach\n                @else\n                <tr>\n                    <td colspan=\"2\">Aucun emploi du temps disponible</td>\n                </tr>\n                @endif\n            </tbody>\n        </table>\n    </div>\n</div>\n\n<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js\" integrity=\"sha384-8q3M7+Nyk3h71+Jld7oVk3Bq5LM5UBM2Zof2bl6cf1hUVOy6tGJ+6uoyfxg4S2yE\" crossorigin=\"anonymous\"></script>\n</body>\n</html>\n"
        }
    ]
}